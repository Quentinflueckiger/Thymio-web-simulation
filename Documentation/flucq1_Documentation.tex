\documentclass{scrartcl}
\usepackage{lipsum}
%%\usepackage[french]{babel}
%%\usepackage[ngerman]{babel}


%% Choose default font for the document
%% Warning : only ONE of the following should be enabled
\usepackage{kpfonts}
%%\usepackage{libertine}

%% The following chose the default language for the document and
%% use the default typography rules for the choosen language.
\usepackage{polyglossia}
\setdefaultlanguage{english}
%% \setdefaultlanguage{german}
%%\setdefaultlanguage{french}

\usepackage[backend=biber, style=ieee]{biblatex}
\addbibresource{template.bib}

\usepackage{graphicx}
\graphicspath{ {./ressources/images/} }

\usepackage{markdown}
\usepackage{array}

\usepackage{listings}
%% Custom javascript listings, from Gary Hammock recuperated the 18.10.2019 : https://github.com/ghammock/LaTeX_Listings_JavaScript_ES6
\lstdefinelanguage{JavaScript}{
  morekeywords=[1]{break, continue, delete, else, for, function, if, in,
    new, return, this, typeof, var, void, while, with},
  % Literals, primitive types, and reference types.
  morekeywords=[2]{false, null, true, boolean, number, undefined,
    Array, Boolean, Date, Math, Number, String, Object},
  % Built-ins.
  morekeywords=[3]{eval, parseInt, parseFloat, escape, unescape},
  sensitive,
  morecomment=[s]{/*}{*/},
  morecomment=[l]//,
  morecomment=[s]{/**}{*/}, % JavaDoc style comments
  morestring=[b]',
  morestring=[b]"
}[keywords, comments, strings]

\usepackage{pdfpages}
\usepackage{longtable}

\usepackage{hyperref}
\hypersetup{
    colorlinks=true, 
    linktoc=all,
    urlcolor     = black, %Colour for external hyperlinks
    linkcolor    = black, %Colour of internal links
    citecolor   = black %Colour of citations
}

\begin{document}


\title{Web Simulation of a Thymio Robot}
\date{\today}   %% or \date{01 november 2018}
\author{Quentin Flückiger (\texttt{flucq1@bfh.ch})}




\maketitle
\includegraphics[width=\textwidth]{./title}
\clearpage

Declaration of Authorship
\clearpage
\clearpage

Management Summary
\clearpage
\clearpage

\tableofcontents
\clearpage

\section{Introduction}

\section{Environment}

\section{Thymio}
\subsection{What is Thymio} 

Thymio is an educational robot that aims at improving early education (starting in primary school) in STEM (Science, Technology, Engineering and Mathematics),
computational thinking, base computer science and researching the acknowledgement by kids of robots in their learning environment.
The project also had technical aims, such as how to provide hardware modularity, fast reaction time amid perception and action,
clear internal communication bus in a user-friendly way and streamline development for group robot, this includes direct changes to the robots’ programs and parallel debugging wirelessly, 
transparently and cheaply.\\

The Thymio project is based on a collaboration between the MOBOTS group from the Swiss Federal Institute of Technology in Lausanne (EPFL) and the Lausanne Arts School (ECAL).
MOBOTS being the Miniature Mobile Robots Group, they are mainly focused around system design for small robots of the kind. It started with a strange-looking pile of components, 
that were assembled on any kind of support and hold the name of “Monsieur Patate” (Sir Potato), most likely due to its appearance, 
that saw life during the first workshop between the two contributors. After what the first “Thymio” was developed, 
it was a four-block robot that could be self-assembled, but not self-programmed as it was coming with pre-programmed behaviours. 
It was used as a user study to gather feedback from clients to know what features needed to be implemented on the Thymio II.\\

\begin{center}
  \includegraphics[width=\textwidth]{prototype_thymio_old}\\
  From left to right, "Monsieur Patate", Thymio, Thymio II
\end{center}

The result is a robot with a complex and complete set of sensors and actuators. 
The National Centre for Competence in Research (NCCR) Robotics research program supported the development of the robot whereas Mobsya, 
a non-profit organization that creates a robot, software, and educational activities to broaden young people's mind about technology and science, 
oversees the production, distribution, and communication of said robot. 
Every step of the Thymio project is open-source and has a non-profit aim to enhance the quality of it with the user's project and research, 
and reduce the cost and augment the lifetime for educational platforms and materials.

\begin{center}
  \includegraphics[width=\textwidth]{Wireless-thymioII-sensor-actuator-color-en}\\
  Thymio II sensor and actuator
\end{center}

\subsection{How does it works} \label{howdoesitworkref}

As seen in the figure above there exist two Thymio models, Thymio and Wireless Thymio. 
The difference between them lies in the ability of the second one to be programmed wirelessly, 
as its name suggests. To begin the creation of a program for the robot there exist two possibilities.
The first one, and the most common one for the public is done by using the software Aseba and a connected Thymio. 
In this case, the robot needs to be plugged in via USB cable or USB dongle (possible only if it is the Wireless Thymio) and powered on. 
Then the software can be used to connect to said robot and start to program in one of the four different programming languages, 
that are: VPL, Blockly, Aseba, and Scratch. Once the program is ready and sent to the robot it will be available to play. \\

The second option is to use the work-in-progress Thymio Suite version. 
This software doesn’t require a Thymio robot to be connected physically (or wirelessly) at all times as it has its own simulator built-in. 
The four said languages are still available, and one need to be chosen. 
After what comes the choice of connecting a physical Thymio or starting a simulation to emulate the programmed behaviour.
A more detailed section on the four differents programming languages can be found in the section \ref{fourlanguages} at the page \pageref{fourlanguages}.

\section{Requirements Documentation}
\subsection{Vision}

A start-up from the EPFL has developed a robot, the Thymio robot or Thymio II, that promotes the programming and robotic activities among children. 
To feed program to the robot, a software has been developed, it integrates the four following programming languages: 
\begin{itemize}
  \item VPL
  \item Blockly4Thymio
  \item Aseba
  \item Scratch
\end{itemize}

The project Web Simulation of a Thymio robot is aimed to create a simulator for the Thymio II so as to allow people to see their programmed behaviour directly.

\subsection{Goals}
\begin{center}
  \includegraphics[width=\textwidth]{./goals}
\end{center}

\subsection{System Context}
%%\subsection{Requirements}
\subsection{Risk Analysis}
In order to carry out the project successfully, we must consider the following possible complications. The possible complications are on one hand assessed according to their impact and on the other hand according to their likelihood to occur. 
Thus, we obtain a predictable risk factor that allows us to have an overall view and take preventive measures if necessary.

\begin{center}
  \includegraphics[width=\textwidth]{./risk-matrix}\\
  Risk Matrix
\end{center}

\begin{tabular}{p{2cm} p{2cm} p{2cm} p{2cm}}
  Event & Likelihood (A) & Impact (B) & Risk Factor (A*B) \\ \hline
  Financial issues & 0 & 1 & 0 \\
  Collisions not implemented & 0.3 & 0.6 & 0.18 \\
  Behaviour pipeline not working & 0.4 & 0.9 & 0.36 \\
  Playground creator not working & 0.4 & 0.6 & 0.24 \\
\end{tabular}

\subsection{Stakeholder Descriptions}
\textbf{Product Owner}
Flückiger Quentin flucq1@bfh.ch \\
\textit{Interests}:
\begin{itemize}
  \item The product owner wants to satisfy the customer.
\end{itemize}


\textbf{Development Team}
Flückiger Quentin flucq1@bfh.ch \\
\textit{Interests}:
\begin{itemize}
  \item The development team wants to develop a usefull application for the customer.
\end{itemize}

\subsection{User Stories}
\textbf{\large Users User Stories}\\
\textbf{As} a user, I want to uplaod an .aesl file, so that I can witness the simulated behaviour. \\
Description:\\
The user wants to upload an .aesl file to see the programmed behaviour simulated.
Success:\\
\begin{itemize}
  \item The simulation works.
\end{itemize}
Failure:\\
\begin{itemize}
  \item The .aesl file doesn't contain a program.
  \item The .aesl file contains behaviour not included in the simulator.
\end{itemize}


\textbf{As} a user, I want to create a simple testing environment, so that I can diversify the experiences. \\
Description:\\
The user wants to create home made playground with a simple playground creation tool.
Success:\\
\begin{itemize}
  \item The playground was successfully created and saved.
\end{itemize}
Failure:\\
\begin{itemize}
  \item The created playground isn't saved properly.
  \item The user encounters trouble while creating the playground, be it meshes creation or placement.
\end{itemize}


\textbf{As} a user, I want to use the application without having to install anything, so that the application can be accessed easily. \\
Description:\\
The user wants to access and use the application without installing anything.
Success:\\
\begin{itemize}
  \item The use can start the application directly in his browser.
\end{itemize}
Failure:\\
\begin{itemize}
  \item The webserver isn't accessible.
\end{itemize}

%%\subsection{Use Cases Model}
%%Use case diagram

\section{Architecture}
\begin{center}
  \includegraphics[width=\textwidth]{./architecture_proposal-Page-1}
\end{center}
Proposed architecture for the simulator.

\begin{center}
  \includegraphics[width=\textwidth]{./architecture_proposal-Page-2}
\end{center}
Proposed architecture for the playground creator.

\section{What already exist} 

There exist two possibilities to simulate the behavior of a Thymio II Robot on a computer. 
The first one is through the Thymio Suite application developed by the creator of Thymio. 
It is an application that regroups multiple features such as coding the robot in one of the four available languages, 
uploading the program to a real robot or simulating its behavior via a simulator developed in the programming language C++. 
This simulator allows one to load a playground among multiple pre-set and run the coded program for the robot.

\begin{center}
  \includegraphics[width=\textwidth]{./suite_simulator}
\end{center}

The other option is to use WeBots, which is an open-source 3D robot simulator for industry, education and research purpose. 
It has been developed in 1996 at the Swiss Federal Institute of Technology in Lausanne since then it became a property license software of Cyberbotics in 1998, 
and in December 2018 was lastly released under the free and open-source Apache 2 license.
WeBots is a very powerful software that can do a lot of things, and one of these things is an accurate Thymio II model with almost all its sensors and actuator. 
The two Aseba Studio and VPL for Thymio can be directly connected to the software and its simulated robot. 
The specification and usage can be found on their website with the following link \href{https://www.cyberbotics.com/doc/guide/thymio2#mosybas-thymio-ii}{WeBots Thymio} .

\section{Three JS}

\begin{center}
  \includegraphics[width=\textwidth]{./basic_threejs_rendering}
\end{center}

\section{Our Approach}

Development
Models + Basic controls
MVC
\subsection{WebServer}
Regarding the goal number 5, Require no software installation, we decided to use a webserver in order to access the application. At first we choose the IIS Manager that is built in with Windows 10, 
we followed the steps in this tutorial video in order to configure IIS: \url{https://www.youtube.com/watch?v=rPRLe7QeVHM} .

Then we had to open the port in order to access it from within the LAN.
\begin{enumerate}
  \item Open the windows Firewall, click on Inbound Rules and New Rule. This will open the New Inbound Rule Wizard.
  \item Select the desired type, Port, click next.
  \item Choose TCP and specify the port used, here 80, click next.
  \item Select Allow connection, click next.
  \item Select all three profile options, click next.
  \item Add a Name and a description to this rule, click finish.
\end{enumerate}

\textbf{Additional setup}\\

It was needed to create a web.config file and add a few file extension so that the .mtl and .obj would still be able to load. 
Otherwise we encountered an error of the type "Failed to load resource: the server responded with a status of 404 (Not Found)." 
The text that needed to be added to the web.config file is the following : \\
\begin{lstlisting}[language=XML, basicstyle=\ttfamily\small]
<?xml version="1.0" encoding="UTF-8"?>
  <configuration>
    <system.webServer>
         <staticContent>
           <remove fileExtension=".mtl" />
           <mimeMap fileExtension=".mtl" mimeType="text/plain" />
           <mimeMap fileExtension=".obj" mimeType="application/octet-stream" />
         </staticContent>
    </system.webServer>
</configuration>
\end{lstlisting}

Unfortunately, after implementing the new MVC architecture for our application we encountered an issue where the application wasn't able to locate some Javascript file and giving the following error message in the console : 
\texttt{javascript file not found on server, net::ERR\textunderscore ABORTED 404 (Not Found)} .  After a while of debugging and asking questions to persons who could know the issue, 
we decided to move away from ISS Manager as our knowledge of this software is too small and the time needed to acquire this knowledge wasn't worth the effort. 
The alternative solution we came up with was to use XAMPP, we managed to push the same version of the application without any problem and without having to do anything special. So we decided to go forth with XAMPP.

Playgrounds 
JSON
\subsection{Interpreter}
The interpreter found that compile/translate .aesl file into another programming language is the one used in the Thymio Suite application, its source code can be found in the following repository \href{https://github.com/aseba-community/aseba/tree/master/aseba/compiler}{Aseba git}.
Unfortunately, it is a C++ one, so we had to understand it and find a way to either use it and then use a C++ to Javascript interpreter, or translate the compiler from C++ to Javascript by hand.

Curently translating the compiler from C++ by hand and encountered a problem, beacause enums don't exist as they exist in C++, with no given value.
Using is_utf8_alpha_num() in C++ which is a derivated function of isalnum in C function to check if the character is alphanumeric, the matching function in Javascript is the following :
\begin{lstlisting}[basicstyle=\ttfamily\small]
  isAlphaNumeric(ch) {
    return ch.match(/^[a-z0-9]+$/i) !== null;
  }
\end{lstlisting}
Had a little issue because if the parameter ch is not a string it doens't work anymore, so have to explicitely pass it as a string.

\subsection{Phyisics}

Adding physics to allow collisions between the robot and the different objects. Trying to use Physijs, source code can be found in the following repository \href{https://github.com/chandlerprall/Physijs/wiki/Basic-Setup}{Physijs git}, 
but with the architecture of our application, we encounter a problem due to the fact we are adding THREE.Object3D instead of basic mesh and Physijs works only with a fixed amount of meshes. A solution would be to not use Physijs as we need it only for the Thymio,
and instead, shoot rays from the robot and check for collisions this way, as only Thymio needs to move and stop upon collisions.

\subsection{Sensor and Actuator}
How they work in real life, what do they output, what do they return as value, and how they work in the application.
Create playground

\section{Results}


%% Domain class diagrams, Domain model, Package diagram, Sequence diagram, System sequence diagram

\section{Usefull latex commands (to be deleted later on)}
\lstset{language=JavaScript}
\begin{lstlisting}[basicstyle=\ttfamily\small]
  function generateBox(color, width, height, depth){

    var geometry = new THREE.BoxGeometry( width, height, depth );
    var material = new THREE.MeshPhongMaterial( { color : color} );
    var box = new THREE.Mesh( geometry, material );
                
    return box;
  }
\end{lstlisting}
For that we read the article book of \cite{Jerald:2015:VBH:2792790}
which is very interesting, much more than the article
\cite{Diniz:2017:UGO:3100317.3100324}

\section{Conclusion and future work}

\section{Appendices}

\subsection{The different programming languages} \label{fourlanguages}
\subsubsection{VPL}

One of the four different possibilities to program the Thymio is by using the visual programming language, or VPL, 
developed by the creator of Aseba. A visual programming language is an abstraction of the more common way to program. 
It is based on the manipulation of program elements graphically that can be manipulated following some spatial grammar to create a program. 
VPLs are based on a set of entities and relations, whereas most of the time entities are represented by boxes, 
or other graphical objects, and relations by simple arrows. They can be categorized into icon-based, 
form-based and diagram-based languages depending on the extent of visual expression inside of it. 
The use of visual programming languages can be found in multiple areas, such as the game engine “Unreal Engine 4” where their system of Blueprints is created upon a node-based VPL, 
or “Microsoft SQL Server Integration Services”. This abstraction allows easier access for neophytes, 
for example using graphic elements such as blocks, forms, diagrams, and others reduce drastically, if not eliminate, the syntactic errors made by the user.\\

In the case of the VPL developed by Aseba’s team, and the one we are mostly interested in, we have a programming language based on two types of blocks: Event blocks and Action blocks. 
From those two are built the seventeen, respectively eleven event blocks and six action blocks, entities. 
One of the main goals of VPL for Thymio was to let people who cannot yet read the ability to start programming and discover this world.\\

\begin{center}
  \includegraphics[width=\textwidth]{./VPL/Thymio_VPL_window}\\
  Thymio VPL Event and Action blocks
\end{center}

To begin creating a program follow the first steps described in the section \ref{howdoesitworkref} at the page \pageref{howdoesitworkref}. 
Once the VPL option has been chosen and the Thymio Visual Programming Language window appears we are ready to go. 
The window is split into six different regions with each of their purposes.
\begin{enumerate}
  \item A tool bar
  \item A programming window
  \item Console messages
  \item The event blocks
  \item The action blocks
  \item The program translated into AESL
\end{enumerate}

\begin{center}
  \includegraphics[width=\textwidth]{./VPL/Thymio_blocks}
  Thymio VPL Window
\end{center}

At first, the programming window will be empty of blocks, containing just a placeholder with empty slots. 
This placeholder is the base of every Thymio VPL program, it contains exactly one event block and one or more action block. 
This means that whenever the event of the event block happens then the set of actions added to this placeholder will occur at the same time. 
For example, with the following pair: \\
\begin{center}
  \includegraphics[scale=0.5]{./VPL/middlebtn_forward}\\
  Event and one Action relation
\end{center}

Both wheels are powered to the maximum when the middle button is pressed. But more than one action can be attributed to one event, 
to do so simply drag another action block onto the previous pair, notice that the same block cannot be used twice for the same event. 
Here we turned the lights on top and set them to a complete green:\\
\begin{center}
  \includegraphics[scale=0.5]{./VPL/middlebtn_forward_green}\\
  Event and multiple Actions relation
\end{center}

The maximum amount of action blocks we can add to an event is four, but we can add as many event blocks to our program as we want. 
Let us add two more event blocks to allow the robot to turn:\\
\begin{center}
  \includegraphics[scale=0.5]{./VPL/middlebtn_3E}\\
  Event and Actions relations
\end{center}

Now we have a basic behaviour, go straight with green lights when the middle button is pushed, turn left on itself with orange lights when the left button is pushed, 
and at last turn right on itself with yellow lights when the right button is pushed.\\

By clicking the button with a student as an icon we enable the advanced mode that gives us more possibilities for multiple blocks. It raises the amount of action block from four to six as well. \\

Let us refactor a bit the program from before, we will change the program by making the robot look left then right and starting over again using timers. 
To help us develop a more interesting program we have now access to a condition, a four led light on top of the robot, using this and the timer we can behave depending on the state of the robot. 
For example, hereafter the middle button was pressed a timer will start and after a short amount of time, it will light one particular led. 
Afterward, the event “timer elapsed” will be triggered but which pair should the program execute, turning right or turning left? 
Hence comes the use of the condition as we will execute the part of the program that corresponds to the state of the condition light. 
In this example, it will go back and forth between the two pairs: \\
\begin{center}
  \includegraphics[scale=0.5]{./VPL/middlebtn_3E_adv}\\
  Advanced program
\end{center}

\subsubsection{Blockly 4 Thymio}

The second possibility is to use \texttt{Blockly4Thymio} which is an environment based on Blockly. Blockly was released in May 2012 and was initially a replacement for OpenBlocks for the \texttt{MIT App Inventor}. 
It is an open-source client-side library that allows its users to easily add a block-based visual programming language to an application or website. 
Blockly is not in itself a programming language but rather used to create one. Its design makes it flexible and it can support a large set of features. 
As it is a visual programming language, we find the same advantages as the first possibility, such for example applying programming principles with no regard towards syntactic error.
Blockly is among the growing and most used visual programming environments because of a few important features. First, it can export the code generated with the blocks to one of the five following programming languages, 
as a built-in feature, JavaScript, Lua, Dart, Python, and PHP, and can be enhanced for any textual programming languages. 
The block pool can be expanded from its base pool or even reduced depending on the needs. The blocks are not restrained to only basic tasks and can implement sophisticated programming tasks. 
And it has been translated in over forty languages, and as well right-to-left versions. \\

Blockly includes a set of pre-defined blocks that can be used to develop with more ease the wanted application. They are arranged into eight families:
\begin{description}
  \item [Logic:] Blocks with Boolean definition, equality check, and conditions.
  \item [Loop:] Blocks for loops.
  \item [Math:] Blocks for numbers, arithmetic operation, a few basic math functions (for example cos, sin, square root) and some mathematical constant (Pi).
  \item [Text:] Blocks to create text and text operations.
  \item [Lists:] Blocks to create lists and standard list operation (length, get the value).
  \item [Color:] Blocks with a color definition.
  \item [Variables:] Blocks to create variables, and to set/get their values.
  \item [Functions:] Blocks to create functions, with return value or not, and to call existing function.
\end{description}

Each block holds a pre-assigned shape, thus restraining its usage to certain situations as a "hidden" way to control the syntax. Their shapes are defined by the different connections with other blocks, 
both external and internal, while external blocks describe what happens after or before, the internals describe what happens during or what are the arguments, logic. 
Following is a basic variable block with three external connectors, and a math block with the value of one, with one connector, that is assigned to the \texttt{Count} variable (the blocks need to be assembled). \\
\begin{center}
  \includegraphics[scale=0.5]{./Blockly/basic_variable}\\
  Variable block
\end{center}

Using the same logic as above we created a \texttt{Limit} variable with the value of 5 to demonstrate the next example. 
The block used is from the logic family and test whether the \texttt{Count} variable is smaller or equal to the \texttt{Limit} as internal blocks. 
It can then be added to a loop, a function or other statements that needs logic.\\
\begin{center}
  \includegraphics[scale=0.5]{./Blockly/basic_logic}\\
  Logic block
\end{center}

Added to the base that Blockly is for \texttt{Blockly4Thymio}, is a compilator that interpret and adapt the Blockly code directly into Aseba language, and an Aseba Framework. 
Let us once again follow the steps described in the “How does it works” section in order to start blockly-ing a little program with \texttt{Blockly4Thymio}. 
Note that it is possible to open the \texttt{Thymio Blockly} environment without going through the Thymio suite, and without any Thymio II connected (physically or simulated). 
To do so open the location of Thymio, the downloaded not the installed, and select thymio\textunderscore blockly, and then index.
The environment window that opens after choosing the Blockly option is split into four parts.
\begin{enumerate}
  \item A tool bar
  \item A programming window
  \item The category of blocks
  \item The program translated into AESL
\end{enumerate}

\begin{center}
  \includegraphics[scale=0.5]{./Blockly/blockly_window}\\
  Thymio Blockly window
\end{center}

The following figure demonstrates a simple program, once run the program listens to two different events. When the center button is pressed and when the front middle proximity sensor detects a wall. 
The first one will activate the two motors at the same speed, as to drive forward, and light the top LED to green. Whereas the second will stop the motors and turn the LED to red. \\
\begin{center}
  \includegraphics[scale=0.5]{./Blockly/forward_stop_wall}\\
  Basic program
\end{center}

Here we set a variable to act as a control if Thymio is moving or not. We then use this information into a test when we click the middle button, and we either move forward or stop according to the result. 
We added two other events for the right and left buttons that are responsible to turn the robot.
\begin{center}
  \includegraphics[scale=0.5]{./Blockly/advanced_program}\\
  More complex program
\end{center}

\subsubsection{Aseba}
\subsubsection{Scratch}

\subsection{Product Backlog}
\begin{longtable}{p{5mm}|p{2cm}|p{4cm}|p{1cm}|p{1cm}|p{1cm}|p{1cm}|p{15mm}}
  ID                     & Story Name & Story / Task Description & Priority & Est. Effort {[}h{]} & Update Effort {[}h{]} & Actual Effort{[}h{]} & Status                \\ \hline
  1 & Create Documentation & Develop and write the documentation & High & 16 & 16 & 16 & In-Progress \\ 
  2 & Set up the Environment & Setting up and configuring the development environment & High & 12 & 12 & 12 & Done \\ 
  3 & Basic Learning & Learning and training of the different technology used later on & High & 44 & 58 & 58 & Done \\ 
  4 & Develop Playgrounds & Create playgrounds and function to generate meshes & High & 40 & 48 & 48 & Done \\ 
  5 & Update Documentation & Update existing documentation & High & 60 &  &  & In-Progress \\
  6 & Architecture Implementation & Refactor the existing code into the designed architecture & High & 40 & 48 &  & In-Progress\\ 
  7 & Web Deployement & Deploy the application on a webserver & High & 16 & 12 & 12 & Done \\ 
  8 & Basic UI & Implement a basic UI & Low & 8 & 4 &  & In-Progress \\ 
  9 & Behaviour Pipeline & Create pipeline to take .aesl file and translate/compile it into behaviour in javascript for the Thymio II & High & 40 &  &  & To Do \\ 
  10 & Phyisics Implementation & Implementation of Collisions for ThreeJS Meshes & High & 20 &  &  & To Do \\ 
  11 & Update Documentation & Update existing documentation & High & 20 &  &  & To Do \\ 
  12 & Enhanced UI & Enhancement of the current UI & Low &  &  &  & To Do \\ 
  13 & Customizable Playgrounds & Implementation of a playground creator for users & High &  &  &  & To Do \\ 
  14 & Update Documentation & Update existing documentation & High & 20 &  &  & To Do \\ 
  15 & Enhanced Behaviour Pipeline & Implement more sensors, action and event for Thymio II & High &  &  &  & To Do \\ 
  16 & Finish Documentation & Finish existing documentation & High &  &  &  & To Do \\
  17 & Prepare Defense & Prepare the defense & High &  &  &  & To Do \\ 
   &  &  & Total &  &  &  &  \\ 
\end{longtable}

\subsection{Sprint Backlog}
\subsubsection{First Sprint}
\textbf{2019-09-16 until 2019-10-07}
\begin{longtable}{p{5mm}|p{2cm}|p{4cm}|p{1cm}|p{1cm}|p{1cm}|p{1cm}|p{15mm}}
  ID                     & Story Name & Story / Task Description & Priority & Est. Effort {[}h{]} & Update Effort {[}h{]} & Actual Effort{[}h{]} & Status                \\ \hline
  1 & Create Documentation & Develop and write the documentation & High & 16 & 16 & 16 & Done \\ 
  1.1 & Template and Content & Choose a latex template and modify the content structure & High & 8 & 8 & 8 & Done \\ 
  1.2 & About Thymio & What is thymio and how does it work. & High & 8 & 8 & 8 & Done \\ 
  2 & Set up the Environment & Setting up and configuring the development environment & High & 12 & 12 & 12 & Done \\ 
  2.1 & GitHub & Create the project in GitHub and the Git environment & High & 4 & 4 & 4 & Done \\ 
  2.2 & Tools & Install Thymio Suite, NodeJS and download ThreeJS & High & 8 & 8 & 8 & Done \\ 
\end{longtable}

\subsubsection{Second Sprint}
\textbf{2019-10-07 until 2019-10-28}
\begin{longtable}{p{5mm}|p{2cm}|p{4cm}|p{1cm}|p{1cm}|p{1cm}|p{1cm}|p{15mm}}
  ID                     & Story Name & Story / Task Description & Priority & Est. Effort {[}h{]} & Update Effort {[}h{]} & Actual Effort{[}h{]} & Status                \\ \hline
  3 & Basic Learning & Learning and training of the different technology used later on & High & 44 & 58 & 58 & Done \\
  3.1 & ThreeJS & Read documentation and examples, and practice & High & 16 & 20 & 20 & Done \\ 
  3.2 & JavaScript & Update and deepen knowledge  & High & 8 & 8 & 8 & Done \\ 
  3.3 & Thymio languages & Learning and using VPL, Blockly, Aseba and Scratch & Medium & 24 & 30 & 30 & Done \\ 
  4 & Develop Playgrounds & Create playgrounds and function to generate meshes & High & 40 & 48 & 48 & Done \\ 
  4.1 & Two Default Playgrounds & Generating two defalut playground to be choosen for the simulator & Medium & 12 & 12 & 12 & Done \\ 
  4.2 & Thymio Model & Create or load Thymio model & Medium & 4 & 4 & 4 & Done \\ 
  4.3 & Mesh Generation & Create function to generate meshes for the playgrounds & High & 24 & 32 & 32 & Done \\ 
  5 & Update Documentation & Update existing documentation & High & 60 & 12 &  & In-Progress \\
  5.1 & Four supported languages & Descibe and initiate to VPL, Blockly, Aseba and Scratch & High & 24 & 12 & {/} & In-Progress \\ 
\end{longtable}

\subsubsection{Third Sprint}
\textbf{2019-10-28 until 2019-11-15}
\begin{longtable}{p{5mm}|p{2cm}|p{4cm}|p{1cm}|p{1cm}|p{1cm}|p{1cm}|p{15mm}}
  ID                     & Story Name & Story / Task Description & Priority & Est. Effort {[}h{]} & Update Effort {[}h{]} & Actual Effort{[}h{]} & Status                \\ \hline
  5 & Update Documentation & Update existing documentation & High & 60 &  &  & In-Progress \\
  5.1 & Four supported languages & Descibe and initiate to VPL, Blockly, Aseba and Scratch & High & 24 & 24 &  & In-Progress \\ 
  5.2 & Backlogs & Create the Sprint and Project backlog & High & 12 & 8 & 16 & Done \\ 
  5.3 & Architecture & Create DCD, DM, PD, SD, SSD and proposition of architecture & High & 12 & 4 &  & In-Progress \\
  5.4 & User Stories & Formulate the User Stories & Medium & 4 & 4 & 4 & To Do \\ 
  5.5 & Risk Analysis & Create risk analysis & High & 8 &  &  & To Do \\ 
  6 & Architecture Implementation & Refactor the existing code into the designed architecture & High & 40 & 48 &  & In-Progress \\ 
  6.1 & Refactor Code & Refactor existing code into MVC Pattern & High & 20 & 44 & 44 & Done \\ 
  6.3 & Unit Testing & Write the JavaScript tests & High & 12 &  &  & To Do \\
  6.4 & JSDoc & Write the JavaScriptDoc & High & 8 & 4 &  & In-Progress \\ 
  7 & Web Deployement & Deploy the application on a webserver & High & 16 & 12 & 12 & Done \\ 
  7.1 & Virtual Machine Setup & Set up the Virtual machine & High & 8 & 4 & 4 & Done \\ 
  7.2 & WebServer & Create WebServer and publish it on bfh network & High & 8 & 8 & 8 & Done \\
  8 & Basic UI & Implement a basic UI & Low & 8 & 4 &  & In-Progress \\ 
  8.1 & Pages UI & Create three pages UI, one for each of the following index, simulation and creation pages & Low & 8 & 4 &  & In-Progress \\
\end{longtable}

\subsubsection{Fourth Sprint}
\textbf{2019-11-15 until 2019-12-09}
\begin{longtable}{p{5mm}|p{2cm}|p{4cm}|p{1cm}|p{1cm}|p{1cm}|p{1cm}|p{15mm}}
  ID                     & Story Name & Story / Task Description & Priority & Est. Effort {[}h{]} & Update Effort {[}h{]} & Actual Effort{[}h{]} & Status                \\ \hline
  9 & Behaviour Pipeline & Create pipeline to take .aesl file and translate/compile it into behaviour in javascript for the Thymio II & High & 40 &  &  & To Do \\ 
  10 & Phyisics Implementation & Implementation of Collisions for ThreeJS Meshes & High & 20 &  &  & To Do \\
  11 & Update Documentation & Update existing documentation & High & 20 &  &  & To Do \\ 
\end{longtable}

\subsubsection{Fifth Sprint}
\textbf{2019-12-09 until 2019-12-30}
\begin{longtable}{p{5mm}|p{2cm}|p{4cm}|p{1cm}|p{1cm}|p{1cm}|p{1cm}|p{15mm}}
  ID                     & Story Name & Story / Task Description & Priority & Est. Effort {[}h{]} & Update Effort {[}h{]} & Actual Effort{[}h{]} & Status                \\ \hline
  12 & Enhanced UI & Enhancement of the current UI & Low & 10 &  &  & To Do \\ 
  13 & Customizable Playgrounds & Implementation of a playground creator for users & High & 40 &  &  & To Do \\ 
  14 & Update Documentation & Update existing documentation & High & 20 &  &  & To Do \\ 
\end{longtable}

\subsubsection{Sixth Sprint}
\textbf{2019-12-30 until 2020-01-17}
\begin{longtable}{p{5mm}|p{2cm}|p{4cm}|p{1cm}|p{1cm}|p{1cm}|p{1cm}|p{15mm}}
  ID                     & Story Name & Story / Task Description & Priority & Est. Effort {[}h{]} & Update Effort {[}h{]} & Actual Effort{[}h{]} & Status                \\ \hline
  15 & Enhanced Behaviour Pipeline & Implement more sensors, action and event for Thymio II & High &  &  &  & To Do \\ 
  16 & Finish Documentation & Finish existing documentation & High &  &  &  & To Do \\
  16.1 & Create Video & Create the video file & High &  &  &  & To Do \\ 
  16.2 & Prepare Presentation Day & Create the poster and the presentation for the Presentation Day & High &  &  &  & To Do \\
  16.3 & Write in the Book & Write the page for the Book & High & 8 & 4 &  & To Do \\ 
  16.4 & Finish Writting Documentation & Terminate the writting part of the documentation & High &  &  &  & To Do \\ 
  16.5 & Prepare to Submit & Check spelling mistake, check images, print it, put the project on a USB stick & High &  &  &  & To Do\\ 
  17 & Prepare Defense & Prepare the defense & High &  &  &  & To Do \\ \hline
\end{longtable}

\subsection{Gantt Diagram}
\begin{center}
  \includegraphics[width=\textwidth]{./Gantt-1}
\end{center}
\begin{center}
  \includegraphics[width=\textwidth]{./Gantt-2}
\end{center}

\subsection{Version control}

\subsection{Configuration}

\textbf{User information} \\
On demand.\\

\textbf{Access the Windows Virtual Machine}\\
\begin{center}
  \begin{tabular}{|c|c|c|}
    \hline
     & Linux WM -ssh & Windows VM - rdp \\
    \hline
    Windows & Putty & Remote Desktop Connection \\
    \hline
    Linux & terminal & Remmina \\
    \hline
    MacOS & terminal & Microsoft Remote Desktop \\
    \hline
  \end{tabular}
\end{center}

See link bellow for more information and links. (It requires to be inside the bfh networkd to access it)
\url{https://intranet.bfh.ch/TI/fr/Studium/Bachelor/Informatik/Tools/VMsHowto/Pages/default.aspx?k=vm}

\textbf{First Configuration of XAMPP}\\
configuration, installation, access

\subsection{Meetings}
\begin{tabular}{ | m{3cm} | m{10cm} | }
  \hline
  Date & Content \\
  \hline
  17.09.2019 & \textbf{Kick Off meeting}\\
  & - Documentation/Management\\
  & - Technology to use : ThreeJS and Typescript\\
  & - Setting up the goals\\
  \hline
  24.09.2019 & \textbf{Second meeting} \\
  & - Documentation language : English \\
  & - Thymio model \\
  & - Base talk about riks management \\
  \hline
  08.10.2019 & \textbf{Third meeting}\\
  & Workplace\\
  & - Discussion on the choice of Windows as the Virtual Machine \\
  & - Create a configuration file with the information of the VM \\
  & - And an architecture proposal \\
  \hline
  15.10.2019 & \textbf{Fourth meeting} \\
  & - Which shapes and meshes should the user be able to create for his own custom playground \\
  & - Problems with webserver, has to be accessible from outside the vm, so maybe switching from windosw to linux \\
  & - Talk about the problem of thymio suite, that is the software allows the user to create programs only if a physical or a simulated one is plugged in \\
  \hline
  25.10.2019 & \textbf{Fifth meeting} \\
  & - Discussed using a Finite state machine to handle the events, but it may be too rigid so a non-deterministic finite state machine was the possible solution we came with \\
  & - First little talk about the meeting with the expert, report\\
  \hline
  19.11.2019 & \textbf{Sixth meeting} \\
  & \\
  \hline
\end{tabular}

\listoffigures

\section{Problems encountered}
\begin{itemize}
  \item javascript not refreshing properly due to cache -> disable cache
  \item 3d Model not loaded on the webserver -> first tried to change the directory, then mixed two solution. 
        Had to create a web.config file and add file extension for .mtl and .obj.
        https://stackoverflow.com/questions/41245938/web-server-cannot-find-mtl-file
        https://stackoverflow.com/questions/16097580/three-js-loading-obj-error-in-azure-but-not-locally
  \item shadow not rendering on plane of all playgrounds
  \item javascript file not found on server, net::ERR\textunderscore ABORTED 404 (Not Found) => first solution (working partially) was to add a IIS\textunderscore IUSRS.
  \item Thymio Blockly has trouble loading saved files. Using the software I wasn't able to load any .aesl file previously created with it, but I could load them if I used the index.html one.
  \item Thymio model not always loading correctly -> Load one at the start of the page and reset its position/rotation upon change of playground.
\end{itemize}

%% Print the bibibliography and add the section to the table of content
\printbibliography[heading=bibintoc]

\end{document}
